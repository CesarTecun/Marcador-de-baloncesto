<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo -->
    <div class="navbar-brand">
      <a routerLink="/control" class="brand-link">
        <i class="bi bi-trophy-fill"></i>
        <span class="brand-text">Marcador BB</span>
      </a>
    </div>

    <!-- Desktop Menu -->
    <div class="navbar-menu desktop-menu">
      <ul class="navbar-nav">
        <li class="nav-item" *ngIf="isAuthenticated">
          <a routerLink="/control" 
             class="nav-link" 
             [class.active]="isActiveRoute('/control')"
             (click)="closeMenu()">
            <i class="bi bi-house-fill"></i>
            <span>CONTROL</span>
          </a>
        </li>
        
        <li class="nav-item" *ngIf="isAdmin">
          <a routerLink="/equipos" 
             class="nav-link" 
             [class.active]="isActiveRoute('/equipos')"
             (click)="closeMenu()">
            <i class="bi bi-people-fill"></i>
            <span>EQUIPOS</span>
          </a>
        </li>
        
        <li class="nav-item" *ngIf="isAdmin">
          <a (click)="navigateToPlayers()"
             class="nav-link"
             [class.active]="isActiveRoute('/jugadores')">
            <i class="bi bi-people"></i>
            <span>JUGADORES</span>
          </a>
        </li>
        
        <li class="nav-item">
          <a (click)="navigateToDisplay()" 
             class="nav-link" 
             [class.active]="isActiveRoute('/tablero')">
            <i class="bi bi-display"></i>
            <span>TABLERO</span>
          </a>
        </li>
        
        <li class="nav-item">
          <a routerLink="/resultados" 
             class="nav-link" 
             [class.active]="isActiveRoute('/resultados')"
             (click)="closeMenu()">
            <i class="bi bi-bar-chart-fill"></i>
            <span>RESULTADOS</span>
          </a>
        </li>

        <li class="nav-item">
          <a routerLink="/torneo" 
             class="nav-link" 
             [class.active]="isActiveRoute('/torneo')"
             (click)="closeMenu()">
            <i class="bi bi-bar-chart-fill"></i>
            <span>TORNEO</span>
          </a>
        </li>
        
        <li class="nav-item" *ngIf="!isAuthenticated">
          <a routerLink="/login" 
             class="nav-link" 
             [class.active]="isActiveRoute('/login')"
             (click)="closeMenu()">
            <i class="bi bi-box-arrow-in-right"></i>
            <span>LOGIN</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Desktop Actions: derecha -->
    <div class="d-none d-md-flex align-items-center gap-2">
      <button class="btn btn-primary btn-sm" (click)="onRefresh()" title="Actualizar datos">
        <i class="bi bi-arrow-clockwise me-1"></i>
        <span>Actualizar</span>
      </button>
      <app-theme-toggle size="sm"></app-theme-toggle>
      <button *ngIf="isAuthenticated" class="btn btn-outline-danger btn-sm" (click)="logout()" title="Cerrar sesión">
        <i class="bi bi-box-arrow-right me-1"></i>
        <span>Cerrar sesión</span>
      </button>
    </div>

    <!-- Mobile Menu Toggle -->
    <div class="mobile-menu-toggle" (click)="toggleMenu()">
      <div class="hamburger" [class.active]="isMenuOpen">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" 
       [class.active]="isMenuOpen" 
       (click)="closeMenu()">
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.active]="isMenuOpen">
    <div class="mobile-menu-header">
      <div class="mobile-brand">
        <i class="bi bi-trophy-fill"></i>
        <span>Marcador de Baloncesto</span>
      </div>
      <button class="close-btn" (click)="closeMenu()">
        <i class="bi bi-x-lg"></i>
      </button>
    </div>
    <!-- Mobile quick actions -->
    <div class="px-3 py-2 d-flex align-items-center gap-2 border-bottom">
      <button class="btn btn-primary btn-sm w-100" (click)="onRefresh(); closeMenu()">
        <i class="bi bi-arrow-clockwise me-1"></i> Actualizar
      </button>
      <app-theme-toggle size="sm"></app-theme-toggle>
      <button *ngIf="isAuthenticated" class="btn btn-outline-danger btn-sm w-100" (click)="logout()">
        <i class="bi bi-box-arrow-right me-1"></i> Cerrar sesión
      </button>
    </div>
    
    <ul class="mobile-nav">
      <li *ngIf="isAuthenticated">
        <a routerLink="/control" 
           [class.active]="isActiveRoute('/control')"
           (click)="closeMenu()">
          <i class="bi bi-house-fill"></i>
          <span>Panel de Control</span>
        </a>
      </li>
      
      <li *ngIf="isAdmin">
        <a routerLink="/equipos" 
           [class.active]="isActiveRoute('/equipos')"
           (click)="closeMenu()">
          <i class="bi bi-people-fill"></i>
          <span>Gestión de Equipos</span>
        </a>
      </li>
      
      <li *ngIf="isAdmin">
        <a (click)="navigateToPlayers()" [class.active]="isActiveRoute('/jugadores')">
          <i class="bi bi-people"></i>
          <span>Jugadores</span>
        </a>
      </li>
      
      <li>
        <a (click)="navigateToDisplay()" 
           [class.active]="isActiveRoute('/tablero')">
          <i class="bi bi-display"></i>
          <span>Tablero Público</span>
        </a>
      </li>
      
      <li>
        <a routerLink="/resultados" 
           [class.active]="isActiveRoute('/resultados')"
           (click)="closeMenu()">
          <i class="bi bi-bar-chart-fill"></i>
          <span>Resultados</span>
        </a>
      </li>
      
      <li>
        <a routerLink="/torneo" 
           [class.active]="isActiveRoute('/torneo')"
           (click)="closeMenu()">
          <i class="bi bi-bar-chart-fill"></i>
          <span>Torneo</span>
        </a>
      </li>
      
      <li *ngIf="!isAuthenticated">
        <a routerLink="/login" 
           (click)="closeMenu()">
          <i class="bi bi-box-arrow-in-right"></i>
          <span>Iniciar Sesión</span>
        </a>
      </li>
    </ul>
  </div>
</nav>
